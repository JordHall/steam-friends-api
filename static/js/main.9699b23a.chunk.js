(this["webpackJsonpapi-steam"]=this["webpackJsonpapi-steam"]||[]).push([[0],{16:function(e,t,n){"use strict";n.r(t);var s=n(0),r=n(1),a=n.n(r),i=n(9),c=n.n(i),o=n(10),l=n(3),d=n(4),u=n(2),h=n(6),p=n(5),j=(n(8),function(e){Object(h.a)(n,e);var t=Object(p.a)(n);function n(e){var s;return Object(l.a)(this,n),(s=t.call(this,e)).state={items:[],isLoaded:!1,items2:[],isLoaded2:!1,combArray:[],api1:"",api2:"",hasError:!1,errorMsg:"",username1:"",username2:""},s.handleAPIUrl=s.handleAPIUrl.bind(Object(u.a)(s)),s}return Object(d.a)(n,[{key:"handleAPIUrl",value:function(e,t){this.getSteamUserID(e,t);var n=this.state.username;return console.log(n),1===n.success?n.steamid:e}},{key:"componentDidMount",value:function(){var e=this,t="https://cors-anywhere.herokuapp.com/",n="http://api.steampowered.com/IPlayerService/GetOwnedGames/v0001/?key=391C66AEE33C44E3C36C283651E05BEA&steamid=",s="https://api.steampowered.com/ISteamUser/ResolveVanityURL/v1/?key=391C66AEE33C44E3C36C283651E05BEA&vanityurl=";fetch(t+s+this.props.api1,{credentials:"omit"}).then((function(e){return e.json()})).then((function(t){e.setState({username1:t.response})})),fetch(t+s+this.props.api1,{credentials:"omit"}).then((function(e){return e.json()})).then((function(t){e.setState({username2:t.response})})),fetch(t+n+this.props.username1+"&include_appinfo=1&format=json",{credentials:"omit"}).then((function(e){return e.json()})).then((function(t){e.setState({isLoaded:!0,items:t.response.games})})).catch((function(t){console.log(t),e.setState({errorMsg:"Could not connect to API",hasError:!0})})),fetch(t+n+ +this.props.username2+"&include_appinfo=1&format=json",{credentials:"omit"}).then((function(e){return e.json()})).then((function(t){e.setState({isLoaded2:!0,items2:t.response.games})})).catch((function(t){console.log(t),e.setState({errorMsg:"Could not connect to API",hasError:!0})}))}},{key:"createSteamImage",value:function(e,t){return"https://media.steampowered.com/steamcommunity/public/images/apps/"+e+"/"+t+".jpg"}},{key:"getProgWidth",value:function(e,t){return(e/t*100).toString()+"%"}},{key:"render",value:function(){var e=this,t=this.state,n=t.isLoaded,r=t.isLoaded2,a=t.items,i=t.items2,c=t.hasError,o=t.errorMsg;if(c)return Object(s.jsx)(m,{errorMsg:o});if(n||r){console.log(a),console.log(i);var l=[];a.forEach((function(e){i.forEach((function(t){t.appid===e.appid&&(e.avg=Math.round((e.playtime_forever+t.playtime_forever)/2/60),e.playtime1=Math.round(e.playtime_forever/60),e.playtime2=Math.round(t.playtime_forever/60),l.push(e))}))})),l.sort((function(e,t){return t.avg-e.avg})),console.log(l);var d=l[0];return Object(s.jsx)("div",{class:"container",children:Object(s.jsx)("div",{class:"col m-auto",children:l.map((function(t){return Object(s.jsxs)("div",{class:"row m-2",children:[Object(s.jsx)("img",{src:e.createSteamImage(t.appid,t.img_logo_url),class:"img rounded h-50 center",alt:"Logo"}),Object(s.jsx)("div",{class:"col",children:Object(s.jsx)("h2",{children:t.name})}),Object(s.jsxs)("div",{class:"col-2",children:[Object(s.jsxs)("span",{class:"badge badge-primary",children:[t.playtime1," hrs"]}),Object(s.jsxs)("span",{class:"badge badge-danger",children:[" ",t.playtime2," hrs"]}),Object(s.jsxs)("div",{class:"progress position-relative",children:[Object(s.jsx)("div",{class:"progress-bar bg-info",style:{width:e.getProgWidth(t.avg,d.avg)}}),Object(s.jsx)("span",{class:"justify-content-center d-flex position-absolute w-100 mt-2 font-weight-bold text-secondary",children:t.avg})]})]})]},t.appid)}))})})}return Object(s.jsx)("div",{class:"text-center",children:"Loading..."})}}]),n}(r.Component)),m=function(e){Object(h.a)(n,e);var t=Object(p.a)(n);function n(e){var s;return Object(l.a)(this,n),(s=t.call(this,e)).state={userInput:!1,user1:"",user2:"",errorMsg:""},s.buttonClickHandle=s.buttonClickHandle.bind(Object(u.a)(s)),s.handleChange=s.handleChange.bind(Object(u.a)(s)),s}return Object(d.a)(n,[{key:"buttonClickHandle",value:function(){this.setState({userInput:!0}),this.render()}},{key:"handleChange",value:function(e){this.setState(Object(o.a)({},e.target.name,e.target.value))}},{key:"render",value:function(){var e=this.state,t=e.userInput,n=e.user1,r=e.user2;return!1===t?Object(s.jsxs)("div",{class:"container text-center p-2 mt-5 font-weight-bold",children:[Object(s.jsx)("div",{class:"text-danger",children:this.props.errorMsg}),Object(s.jsx)("div",{class:"row",children:Object(s.jsxs)("div",{class:"col p-1",children:[Object(s.jsx)("label",{class:"p-3",children:"User 1"}),Object(s.jsx)("input",{required:!0,type:"text",name:"user1",value:n,onChange:this.handleChange})]})}),Object(s.jsx)("div",{class:"row",children:Object(s.jsxs)("div",{class:"col p-1",children:[Object(s.jsx)("label",{class:"p-3",children:"User 2"}),Object(s.jsx)("input",{required:!0,type:"text",name:"user2",value:r,onChange:this.handleChange})]})}),Object(s.jsx)("div",{class:"row",children:Object(s.jsx)("div",{class:"col p-3",children:Object(s.jsx)("button",{class:"btn btn-primary",onClick:this.buttonClickHandle,children:"Find"})})})]}):!0===t?Object(s.jsx)(j,{api1:n,api2:r}):void 0}}]),n}(r.Component),b=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,17)).then((function(t){var n=t.getCLS,s=t.getFID,r=t.getFCP,a=t.getLCP,i=t.getTTFB;n(e),s(e),r(e),a(e),i(e)}))};c.a.render(Object(s.jsx)(a.a.StrictMode,{children:Object(s.jsx)(m,{})}),document.getElementById("root")),b()}},[[16,1,2]]]);
//# sourceMappingURL=main.9699b23a.chunk.js.map